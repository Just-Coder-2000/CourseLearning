from cProfile import label
import math
import matplotlib.pyplot as plt

plt.rcParams["font.family"] = "Ubuntu Mono"
plt.rcParams["font.size"] = 13
plt.figure(figsize=(10, 10))

pts = [[6.53919, 5.26929], [3.19033, 5.04523], [0.907329, 4.93977], [8.45982, 5.13274], [1.78328, 4.67917], [7.48293, 4.9848], [9.61095, 4.88515], [2.0325, 4.76432], [9.31674, 4.523], [0.651939, 5.24987], [6.82049, 4.88943], [5.88119, 5.28548], [6.61355, 4.60434], [2.15826, 5.44023], [5.19988, 4.77804], [6.65503, 4.51851], [0.653563, 5.19175], [2.4044, 4.55072], [8.34338, 5.09658], [2.20516, 5.19303], [1.61419, 5.19337], [8.04912, 4.91841], [2.77198, 5.22215], [4.99657, 4.83873], [6.46495, 4.79779], [
    2.64133, 5.16531], [1.55873, 4.58046], [3.23429, 5.34876], [9.61436, 4.76952], [1.18397, 5.05059], [4.01555, 4.68209], [5.17596, 4.67209], [3.18549, 4.92207], [2.01617, 5.42825], [6.0802, 5.13759], [5.71627, 5.23785], [0.602413, 5.3186], [8.46325, 5.49302], [4.66967, 5.17482], [9.36609, 4.87048], [7.53337, 5.48907], [0.915335, 5.263], [2.52718, 4.91122], [8.51649, 5.49228], [7.76984, 5.49478], [7.46284, 5.41796], [2.16246, 4.93255], [0.825976, 4.99835], [5.1529, 5.49814], [8.67991, 5.1707]]

x = [pts[idx][0] for idx in range(len(pts))]
y = [pts[idx][1] for idx in range(len(pts))]


def drawLine(name, a, b, c):
    # ax + by + c = 0
    if abs(b) < 1E-10:
        xline = [-c/a, -c/a]
        yline = [0, 10]
    elif abs(a) < 1E-10:
        xline = [0, 10]
        yline = [-c/b, -c/b]
    else:
        xline = [0, 10]
        yline = [-c/b, (-c-10*a)/b]
    plt.plot(xline, yline, "--", label=name)


drawLine('truth', 0, 1, -5)
drawLine('fit', -0.00045055, -0.193828, 0.981035)

plt.scatter(x, y, c='darkred', alpha=0.75,
            marker='X', s=70, label="data points")

plt.title("SLine Fitting [a:b:c]-[0:1:-5]")
plt.xlabel('x')
plt.ylabel('y')
plt.xlim((0, 10))
plt.ylim((0, 10))
plt.grid(ls='--', alpha=0.5)
plt.legend()
plt.savefig("./img/sline_fit_3.png", dpi=500)
plt.show()
